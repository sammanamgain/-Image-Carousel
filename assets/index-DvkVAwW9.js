var f=Object.defineProperty;var p=(c,t,e)=>t in c?f(c,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):c[t]=e;var r=(c,t,e)=>(p(c,typeof t!="symbol"?t+"":t,e),e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const n of s.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&o(n)}).observe(document,{childList:!0,subtree:!0});function e(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(i){if(i.ep)return;i.ep=!0;const s=e(i);fetch(i.href,s)}})();class g{constructor(t,e,o,i,s,n,a,l){r(this,"carousel");r(this,"imageWrapper");r(this,"images");r(this,"leftControl");r(this,"rightControl");r(this,"carouselIndicators");r(this,"interval");r(this,"transitionTime");r(this,"currentIndex",0);r(this,"imageWidth");r(this,"animationFrameId",null);r(this,"isForward",!0);this.carousel=document.querySelector(`.${t}`),this.imageWrapper=this.carousel.querySelector(`.${e}`),this.images=this.carousel.querySelectorAll(`.${o}`),this.carouselIndicators=this.carousel.querySelectorAll(`.${i}`),this.leftControl=this.carousel.querySelector(`.${a}`),this.rightControl=this.carousel.querySelector(`.${l}`),this.transitionTime=n,this.imageWidth=this.images[0].offsetWidth,this.interval=s*1e3}init(){this.addEventListeners(),this.startAutoTransition(this.transitionTime)}addEventListeners(){this.leftControl.addEventListener("click",()=>{this.stopAutoTransition(),this.moveLeft()}),this.rightControl.addEventListener("click",()=>{this.stopAutoTransition(),this.moveRight()}),this.carouselIndicators.forEach((t,e)=>{t.addEventListener("click",()=>{console.log(`Indicator ${e} clicked`),this.stopAutoTransition(),this.showSlide(e)})})}showSlide(t){const e=-t*this.imageWidth;this.imageWrapper.style.left=`${e}px`,this.currentIndex=t,this.updateActiveIndicator()}updateActiveIndicator(){Array.from(this.carouselIndicators).forEach((t,e)=>{e===this.currentIndex?t.classList.add("carousel__indicator--active"):t.classList.remove("carousel__indicator--active")})}moveLeft(){this.currentIndex>0?this.currentIndex--:this.currentIndex=this.images.length-1,this.moveToIndex()}moveRight(){this.currentIndex<this.images.length-1?this.currentIndex++:this.currentIndex=0,this.moveToIndex()}startAutoTransition(t){this.animateToIndex(t)}stopAutoTransition(){this.animationFrameId!==null&&(window.cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null)}animateToIndex(t){let e;console.log("currentIndex",this.currentIndex),this.currentIndex===this.images.length-1?this.isForward=!1:this.currentIndex===0&&(this.isForward=!0),e=this.isForward?this.currentIndex+1:this.currentIndex-1,console.log("nexindex",e);const o=parseInt(this.imageWrapper.style.left||"0",10),s=-e*this.imageWidth-o,n=t*1e3;let a=null;const l=d=>{a||(a=d);const h=d-a,u=Math.min(h/n,1),m=o+s*u;this.imageWrapper.style.left=`${m}px`,u<1?this.animationFrameId=requestAnimationFrame(l):(this.currentIndex=e,this.updateActiveIndicator(),setTimeout(()=>{this.animateToIndex(t)},this.interval))};this.animationFrameId=requestAnimationFrame(l)}moveToIndex(){const t=parseInt(this.imageWrapper.style.left||"0",10),o=-this.currentIndex*this.imageWidth-t,i=500;let s=null;const n=a=>{s||(s=a);const l=a-s,d=Math.min(l/i,1),h=t+o*d;this.imageWrapper.style.left=`${h}px`,d<1?requestAnimationFrame(n):this.updateActiveIndicator()};requestAnimationFrame(n)}}const I=new g("carousel","carousel__image-wrapper","carousel__image","carousel__indicator",5,5,"carousel__control--prev","carousel__control--next");I.init();
